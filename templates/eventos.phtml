{{ include('header.phtml') }}

<main>
<div class="container">
	<div class="events">
	  <ul class="collapsible" data-collapsible="accordion">
	  	{% if eventos is not empty %}
	  		{% for evento in eventos %}
			    <li>
			      <div class="collapsible-header">
			        <h2>{{ evento.nome }}</h2>

			      </div>
			      <div class="collapsible-body">
			        <ul>
			          <li>Data:	{{ evento.startData }}</li>
			          <li>Horário:	{{ evento.startData }}</li>
			          <li>Local:	{{ evento.local }}</li>
			          <li>Descrição detalhada do evento: {{ evento.descricao }} </li>
			          <li>Palestrante: {{ evento.palestrante }}</li>
			          <li>Vagas restantes: {{ evento.getRemainingSlots() }}</li>
			        </ul>
			      </div>

			    	{% if evento.areYouEnrolledWithThisEvent() %}
			    		<a href="{{ path_for('eventos.cancelar', {'id': evento.id}) }}" class="waves-effect waves-light btn-large red">Cancelar Inscrição</a>
			    	{% else %}
			    		{% if evento.areYouBusyAtTimeOfThisEvent() %}
			    			<a href="#" class="waves-effect waves-light btn-large red">Você já está inscrito em outro evento neste horário!</a>
			    		{% else %}
			    			<a href="{{ path_for('eventos.inscrever', {'id': evento.id}) }}" class="waves-effect waves-light btn-large red">Realizar Inscrição</a>
			    		{% endif %}
			    	{% endif %}
			    </li>
		    {% endfor %}
	  	{% else %}
	  		<li class="red">
		      <div class="red error collapsible-header">
		        <h2>Não há eventos cadastrados</h2>
		      </div>
		    </li>
	  	{% endif %}
	  </ul>
	</div>
</div>
{{ include('menu.phtml') }}

{{ include('footer.phtml') }}
